generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model LandingPage {
  id             String   @id @default(uuid())
  name           String
  description    String
  avatarImageUrl String
  coverImageUrl  String
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
  gallery     Gallery[]
  services    Service[]
  contactInfo    ContactInfo?
}

model ContactInfo {
  id            String  @id @default(uuid())
  email         String
  phone         String?
  whatsappLink  String?
  instagramLink String?
  facebookLink  String?
  behanceLink  String?

  // Relations
  landingpage   LandingPage @relation(fields: [landingpageId], references: [id], onDelete: Cascade)
  landingpageId String      @unique
}


model Service {
  id           String   @id @default(uuid())
  name         String
  description  String
  imageUrl     String
  landingPageId   String
  landingPage     LandingPage @relation(fields: [landingPageId], references: [id])
}


model Gallery {
  id         String    @id @default(uuid())
  imageUrl   String
  caption    String?
  type       GalleryType @default(GALLERY)
  mediaType  MediaType   @default(IMAGE) 
  createdAt  DateTime  @default(now())

  landingPageId String
  landingPage   LandingPage  @relation(fields: [landingPageId], references: [id])
}

enum GalleryType {
  FEATURED
  GALLERY
}

// Novo enum para tipo de m√≠dia
enum MediaType {
  IMAGE
  VIDEO
}

enum UserRole {
  ADMIN
  MANAGER
  CUSTOMER
}
